@model IEnumerable<Core.Models.User.Users>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Layouts/Dashboard.cshtml";
}

@{
    ViewBag._Active = "Index";
    ViewBag._Panel = "Home";
}


<div class=" segment">
    <h1 class="ui header" align="center">
        <div class="content">
            <h1>Módulo Lista de Usuarios</h1>
            <div class="sub header" align="right">
                <div class="ui breadcrumb">
                    <a class="section" href="@Url.Action("home","Home")">Inicio</a>
                    <div class="divider"> / </div>
                    <a class="section" href="@Url.Action("Index")">Listar</a>
                    <div class="divider"> / </div>
                    <div class="active section">Lista de Usuarios</div>
                </div>
            </div>
        </div>

    </h1>
    <div class="ui hidden divider"></div>

    @if (Session["Rol"] != null)
    {
        string rol = (string)Session["Rol"];
        if (rol.Equals("Admin"))
        {
            <form action="" method="get" align="right">
                <a href="@Url.Action("create")" class="ui  large blue submit button">
                    Crear Nuevo Usuario
                </a>

                @*<div class="ui action input " align="right">
                    <input type="text" name="Name" placeholder="Nombre" value="@ViewBag.FName">
                    <button class="ui icon button" id="btnCon">
                        <i class="search icon"></i>
                    </button>
                </div>*@

            </form>
        }

    }
    
</div>

<br />
<br />


<div class="ui grid">
    <div class="one wide column"></div>
    <div class="fourteen wide column">
        <div class="ui segments">
            <div class="ui teal segment">
                <table id="tabla" class="ui celled small hover striped table">
                    <thead>
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => model.Rol.RolName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.UserName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.LastName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.NumberPhone)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.CC)
                            </th>
                            @*<th>
                                @Html.DisplayNameFor(model => model.Password)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.State)
                            </th>*@
                            @*<th>
            @Html.DisplayNameFor(model => model.CreatedByName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UpdatedByName)
        </th>*@
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var item in Model)
                        {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Rol.RolName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.UserName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.LastName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.NumberPhone)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.CC)
                            </td>
                            @*<td>
                                @Html.DisplayFor(modelItem => item.Password)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.State)
                            </td>*@
                            @*<td>
            @Html.DisplayFor(modelItem => item.CreatedByName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UpdatedByName)
        </td>*@
                        <td>
                            @if (Session["Rol"] != null)
                            {
                                string rol = (string)Session["Rol"];
                                if (rol.Equals("Admin"))
                                {
                                    @Html.ActionLink("Editar", "Edit", new { id = item.Id }, new { @class = "ui download blue button" })
                                }

                            }

                            @Html.ActionLink("Detalle", "Details", new { id = item.Id }, new { @class = "ui download  button" })
                            @*@Html.ActionLink("Eliminar", "Delete", new { id = item.Id }, new { @class = "ui download black button" })*@
                        </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @*<link rel=”stylesheet” href=”https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css” />
    <script type=”text/javascript” src=”https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js”></script>*@
   
}